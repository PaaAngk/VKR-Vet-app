# ---------------------------------- Client ---------------------------------

query GetClient($search:String!){
  clientsWithSearch(search:$search){
    id
    fullName
    telephoneNumber
    pets{
      id
      alias
    }
  }
}

mutation CreateClient($data:CreateClientInput!) {
  createClient(data:$data){
    id
	  fullName
    telephoneNumber
    address
  }
}

query ClientDetail($clientId:String!){
	clientDetail(clientId:$clientId){
		id
    fullName
    address
    telephoneNumber
    pets{
      id
      alias
      kind
      gender
      DOB
      breed
    }
  }
}

mutation UpdateClient($clientId:String!, $data:UpdateClientInput!) {
  updateClient(clientId:$clientId, data:$data){
    id
    fullName
    address
    telephoneNumber
    pets{
      id
      alias
      kind
      gender
      DOB
      breed
    }
  }
}

mutation DeleteClient($clientId:String!) {
  deleteClient(clientId:$clientId){
    id
  }
}

# ---------------------------------- Pet ---------------------------------

mutation CreatePet($data:CreatePetInput!) {
  createPet(data:$data){
    id
    alias
    kind
    gender
    DOB
    breed
  }
}

query GetPetDetail($petId:String!){
  pet(petId:$petId){
    id
    alias
    DOB
    alias
    breed
    castration
    color
    diagnosis
    gender
    kind
    notes
    nutrition
    weight
    clientId
    client{
      id
      fullName
      telephoneNumber
      address
    }
    receptions{
      id
      diagnosis
      createdAt
      cost
      purpose{
        purposeName
      }
    }
    analyzesResearchs{
      id
      type{
        typeName
      }
      createdAt
    }
  }
}

mutation UpdatePet($petId:String!, $data:UpdatePetInput!) {
  updatePet(petId:$petId, data:$data){
    id
    alias
    DOB
    alias
    breed
    castration
    color
    diagnosis
    gender
    kind
    notes
    nutrition
    weight
    clientId
    receptions{
      id
      diagnosis
      createdAt
      cost
      purpose{
        purposeName
      }
    }
    analyzesResearchs{
      id
      type{
        typeName
      }
      createdAt
    }
  }
}

mutation DeletePet($petId:String!) {
  deletePet(petId:$petId){
    id
  }
}

# ---------------------------------- Service ---------------------------------

query GetAllServiceTypeWithServiceName{
  allServiceType{
    id
    typeName
    service{
      id
      name
      price
    }
  }
}


# ---------------------------------- Goods ---------------------------------

query GetAllGoodsCategoryWithGoods{
  allGoodsCategory{
    categoryName
    goods{
      id
      name
      price
      measure
      quantity
    }
  }
}

query GetAllEmployees{
  allEmployees{
    id
    fullName
  }
}

# ---------------------------------- Reception ---------------------------------

query GetAllReceptionPurpose{
  allReceptionPurpose{
    id
    purposeName
  }
}

mutation CreateReception($data:CreateReceptionInput!) {
  createReception(data:$data){
    anamnesis
    assignment
    clinicalSigns
    cost
    diagnosis
    employeeId
    petId
    purposeId
    discount
    id
  }
}

query GetReception($receptionId:String!){
	reception(receptionId:$receptionId){
    id
    anamnesis
    assignment
    clinicalSigns
    cost
    diagnosis
    petId
    discount
    pet{
      alias
      DOB
      kind
      gender
      id
      client{
        id
        fullName
        telephoneNumber
      }
    }
    employee{
      id
      fullName
    }
    purpose{
      id
      purposeName
    }
    goods{
      quantity
      goods{
        name
        id
        categoryId
        measure
        price
        category{
          id
        }
      }
    }
    services{
      quantity
      service{
        id
        typeId
        name
        price
        type{
          id
        }
      }
    }
  }
}

mutation UpdateReception($data: UpdateReceptionInput!, $receptionId:String!){
	updateReception(data: $data, receptionId:$receptionId){
    id
  }
}

# ---------------------------------- Analyzes and research  ---------------------------------
query GetAllAnalyzeTypes{
  allTypeAnalyzesResearch{
    id
    typeName
  }
}

mutation createAnalyzesResearch($data:CreateAnalyzesResearchInput!) {
  createAnalyzesResearch(data:$data){
    id
		typeId
  	petId
  	data
  }
}
query GetAnalyzesResearch($analyzesResearchId:String!){
	analyzesResearch(analyzesResearchId:$analyzesResearchId){
    id
  	data
    pet{
      alias
      DOB
      kind
      gender
      id
      client{
        id
        fullName
        telephoneNumber
      }
    }
    type{
      id
      typeName
    }
  }
}

mutation UpdateAnalyzesResearch($data: UpdateAnalyzesResearchInput!, $analyzesResearchId:String!){
	updateAnalyzesResearch(analyzesResearchId:$analyzesResearchId, data: $data){
    id
  }
}